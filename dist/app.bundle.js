/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ (() => {

eval("var SUPABASE_URL = 'https://uapervjhiibhkhzcpbfq.supabase.co/rest/v1/Apprenant?';\nvar SUPABASE_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MDI3NDAwMywiZXhwIjoxOTU1ODUwMDAzfQ.ifXAy-0sSyQq91FOkkHOv9ruD1NZ8p_mUZWxVXB7NkQ\";\nvar Apprenant_items = [// {\n  //     nom:\"Eva\",\n  //     prenom: \"diop\",\n  //     niveau: \"debutant\",\n  //     bio: \"je suis entrains dessayer un truc\",\n  //     photo: 'header.JPG'\n  // },\n  // {\n  //     nom:\"zalle\",\n  //     prenom: \"talla\",\n  //     niveau: \"debutant\",\n  //     bio: \" A peur de manger son made\",\n  //     photo:'header.JPG'\n  // }\n];\n\nvar ajouterApp = function ajouterApp(item) {\n  // on selectionne le containeur \n  var container = document.querySelector(\"ul\"); // on ajoute le html\n\n  container.insertAdjacentHTML(\"beforeend\", \"\\n            <div class=\\\"card mb-3 shadow \\\" style=\\\"max-width: 540px;\\\" >\\n                <div class=\\\"row g-0 \\\">\\n                    <div class=\\\"col-md-4 p-4\\\">\\n                        <img src=\\\"img/header.JPG\\\" class=\\\"img-fluid \\\" alt=\\\"...\\\">\\n                    </div>\\n                    <div class=\\\"col-md-6\\\">\\n                        <div class=\\\"card-body\\\">\\n                            <h5 class=\\\"card-title\\\">\".concat(item.nom, \" \").concat(item.prenom, \"</h5>\\n                            <p class=\\\"card-text\\\">\").concat(item.bio, \"</p>\\n                            <p class=\\\"fw-bold float-end\\\">\").concat(item.niveau, \"</p>\\n                        </div>\\n                        </div>  \\n                        <div class=\\\"col-md-2\\\">\\n                            <i class=\\\"bi bi-pencil btn\\\" style=\\\"color: green;\\\"  ></i>\\n                            <i class=\\\"bi bi-x-lg btn\\\" style=\\\"color: #ce0033;\\\" ></i>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        \\n    \"));\n}; // Apprenant_items.forEach((item) => ajouterApp(item));\n// On souhaite réagir à chaque fois que le formulaire est soumis\n\n\ndocument.querySelector('.formulaire').addEventListener(\"submit\", function (event) {\n  //     // On souhaite aussi empêcher le rechargement de la page\n  event.preventDefault();\n  var inputNom = document.getElementById('nom').value;\n  var inputPrenom = document.getElementById('prenom').value;\n  var select = document.getElementById('selected').selectedOptions[0].value;\n  var bio = document.getElementById('biographie').value;\n  var item = {\n    nom: inputNom,\n    prenom: inputPrenom,\n    niveau: select,\n    bio: bio\n  };\n  ajouterApp(item);\n  var sauvegarderbtn = document.getElementById('sauvegarder');\n  sauvegarderbtn.addEventListener('click', function () {\n    fetch(SUPABASE_URL, {\n      method: \"POST\",\n      body: JSON.stringify(item),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        apiKey: SUPABASE_KEY,\n        Prefer: \"return=representation\"\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (items) {\n      ajouterApp(items[0]);\n    });\n  }); // Lorsque les éléments du DOM sont tous connus\n\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    // Appel HTTP vers Supabase\n    // On vide l'input et replace le curseur dedans\n    document.querySelector(\".formulaire\").reset(); // recuperation du btn sauvegarder\n  }); //     // On récupère les inputs\n  //     console.log('avant iput recup');\n  //     const inputNom = document.getElementById('nom').value\n  //     const inputPrenom = document.getElementById('prenom').value\n  //     const select = document.getElementById('selected').selectedOptions[0].value\n  //     const bio = document.getElementById('biographie').value\n  //  //   On créé un nouveau profil d'apprenant\n  //     const item = {\n  //         nom:inputNom,\n  //         prenom: inputPrenom,\n  //         niveau: select,\n  //         bio: bio\n  //     }\n  //     fetch(SUPABASE_URL, {\n  //             method: \"POST\",\n  //             body: JSON.stringify(item),\n  //             headers: {\n  //                 \"Content-Type\": \"application/json\",\n  //                 apiKey: SUPABASE_KEY,\n  //             Prefer: \"return=representation\",\n  //             },\n  //         })\n  //         .then((response) => response.json())\n  //         .then((items) => {\n  //             ajouterApp(items[0]);\n  //         });\n  //         window.addEventListener(\"DOMContentLoaded\", (event) => {\n  //             //RECUPERATION DES DONNEES VIA API\n  //             fetch(SUPABASE_URL, {\n  //             method: \"GET\",\n  //             headers: {\n  //                 apikey: SUPABASE_KEY,\n  //             },\n  //             }).then((response) => response.json())\n  //             .then((items) => {\n  //                 allItems.forEach((item) => {\n  //                     ajouterApp(item)\n  //                 })\n  //             })\n  //         })\n  //     // On vide l'input et replace le curseur dedans\n  //     document.querySelector(\".formulaire\").reset()\n});\n\n//# sourceURL=webpack://schoolapp/./src/app.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/app.js"]();
/******/ 	
/******/ })()
;